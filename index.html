<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="referrer" content="no-referrer">
  <title>WinnersTour — Eventos</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
<style>
#categoryWrap{display:grid;gap:20px;margin:10px 0 24px}
.cat-section{display:grid;gap:10px}
.cat-header{display:flex;align-items:center;justify-content:space-between;gap:10px}
.cat-title{margin:0;font-size:20px;font-weight:900;text-transform:uppercase;letter-spacing:.02em}
.cat-actions{display:flex;gap:8px}
.cl-btn{appearance:none;border:1px solid rgba(15,23,42,.12);background:#fff;color:#111827;border-radius:12px;padding:8px 12px;font-weight:800;box-shadow:0 2px 10px rgba(0,0,0,.06)}
.cl-btn:disabled{opacity:.5;cursor:not-allowed}
.cl-track{display:grid;grid-auto-flow:column;grid-auto-columns:100%;gap:12px;overflow:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;padding-bottom:6px}
@media (min-width:640px){.cl-track{grid-auto-columns:calc((100% - 12px)/2)}}
@media (min-width:1024px){.cl-track{grid-auto-columns:calc((100% - 36px)/4)}}
.cl-slide{scroll-snap-align:start}
.card{background:#fff;border:1px solid rgba(15,23,42,.08);border-radius:16px;overflow:hidden;box-shadow:0 2px 10px rgba(0,0,0,.06);transition:transform .15s ease,box-shadow .15s ease;display:block}
.card:hover{transform:translateY(-2px);box-shadow:0 8px 22px rgba(0,0,0,.08)}
.media{width:100%;aspect-ratio:3/1;background:#e5e7eb;overflow:hidden}
.media img{width:100%;height:100%;object-fit:cover;display:block}
.body{padding:12px 14px 14px}
.title{margin:0 0 6px 0;font-weight:900;text-transform:uppercase;font-size:16px}
.subtitle{margin:0;color:#46505a;font-size:.95rem}
.cl-dots{display:flex;justify-content:center;align-items:center;gap:6px}
.cl-dot{width:8px;height:8px;border-radius:999px;background:#cbd5e1;border:0}
.cl-dot.is-active{width:22px;background:#111827;transition:.2s}
</style>

<script></script>
</head>
<body class="wt-body">
  <header class="wt-header">
    <div class="wt-container wt-header__inner">
      <h1 class="wt-logo">WINNERSTOUR</h1>
      <a class="wt-whats" id="whatsLinkIndex" href="https://wa.me/?text=Ol%C3%A1!%20Quero%20saber%20sobre%20os%20eventos." target="_blank" rel="noopener">WhatsApp</a>
    </div>
  </header>


<main class="container">
  <h1 class="page-title">Eventos</h1>
  <section id="categoryWrap"></section>        <!-- carrosseis por categoria -->
  <section id="eventsGrid" class="grid"></section> <!-- grid completo (como hoje) -->
</main>


  
  <main class="wt-container">
    <h2 class="wt-title">Eventos</h2>
    <div id="eventsGrid" class="cards-grid"></div>
  </main>

  <footer class="wt-footer">
    <div class="wt-container">© WinnersTour</div>
  </footer>

  <script src="assets/js/index.js"></script>
<script>
(async () => {
  try {
    const res = await fetch("/api/events");
    const { events } = await res.json();
    // mantém compatibilidade com scripts existentes
    window.__EVENTS = events;
    // tenta renderização existente
    if (typeof renderEventCards === "function") {
      renderEventCards(events);
    } else {
      // fallback simples: preenche um container #events-list se existir
      const list = document.querySelector("#events-list, .events-list, [data-events-list]");
      if (list) {
        list.innerHTML = events.map(ev => `
          <a class="event-card" href="${ev.url}">
            <img loading="lazy" src="${ev.banner}" alt="${ev.title}">
            <h3>${ev.emoji ? ev.emoji + " " : ""}${ev.title}</h3>
            <p>${ev.subtitle || ""}</p>
          </a>
        `).join("");
      }
    }
    document.dispatchEvent(new CustomEvent("events:loaded", { detail: events }));
  } catch (err) {
    console.error("Falha ao carregar /api/events", err);
  }
})();
</script>
  <script src="./assets/js/carousel-lite.js"></script>
<script src="./assets/js/index-categories.js" defer></script>

</body>
</html>
